<!doctype html><html lang='pt-br'><head><meta charset='utf-8'><title>Produto</title><link rel='stylesheet' href='/static/css/style.css'></head><body><header><h1 id='title'>Novo Produto</h1><a href='/produtos' class='btn'>Voltar</a></header><main><form id='form'><label>Nome<br><input name='name' required></label><label>Pre√ßo<br><input name='price' type='number' step='0.01' required></label><label>Estoque<br><input name='stock' type='number' required></label><label>Categoria<br><input name='category'></label><button type='submit'>Salvar</button></form></main><script>const params=new URLSearchParams(location.search);const id=params.get('id');if(id)document.getElementById('title').innerText='Editar Produto';const form=document.getElementById('form');if(id){fetch('/api/products/'+id).then(r=>r.json()).then(p=>{form.name.value=p.name;form.price.value=p.price;form.stock.value=p.stock;form.category.value=p.category;})}form.addEventListener('submit',async e=>{e.preventDefault();const payload={name:form.name.value,price:parseFloat(form.price.value),stock:parseInt(form.stock.value),category:form.category.value};if(id){await fetch('/api/products/'+id,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)})}else{await fetch('/api/products',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)})}location.href='/produtos';})</script></body></html>